
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the official Authentication and Authorization framework for CodeIgniter 4">
      
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.9">
    
    
      
        <title>Quick Start Guide - CodeIgniter Shield</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Raleway";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/styles/github.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-start-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://codeigniter.com" title="CodeIgniter Shield" class="md-header__button md-logo" aria-label="CodeIgniter Shield" data-md-component="logo">
      
  <img src="../assets/flame.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CodeIgniter Shield
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick Start Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/codeigniter4/shield" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://codeigniter.com" title="CodeIgniter Shield" class="md-nav__button md-logo" aria-label="CodeIgniter Shield" data-md-component="logo">
      
  <img src="../assets/flame.svg" alt="logo">

    </a>
    CodeIgniter Shield
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/codeigniter4/shield" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Quick Start Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Quick Start Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#authentication-flow" class="md-nav__link">
    Authentication Flow
  </a>
  
    <nav class="md-nav" aria-label="Authentication Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customize-register-redirect" class="md-nav__link">
    Customize register redirect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-login-redirect" class="md-nav__link">
    Customize login redirect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-logout-redirect" class="md-nav__link">
    Customize logout redirect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-remember-me-functionality" class="md-nav__link">
    Customize Remember-me functionality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-access-token-lifetime" class="md-nav__link">
    Change Access Token Lifetime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-account-activation-via-email" class="md-nav__link">
    Enable Account Activation via Email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-two-factor-authentication" class="md-nav__link">
    Enable Two-Factor Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responding-to-magic-link-logins" class="md-nav__link">
    Responding to Magic Link Logins
  </a>
  
    <nav class="md-nav" aria-label="Responding to Magic Link Logins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#session-notification" class="md-nav__link">
    Session Notification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event" class="md-nav__link">
    Event
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authorization-flow" class="md-nav__link">
    Authorization Flow
  </a>
  
    <nav class="md-nav" aria-label="Authorization Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-available-groups" class="md-nav__link">
    Change Available Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-default-group" class="md-nav__link">
    Set the Default Group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-available-permissions" class="md-nav__link">
    Change Available Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-permissions-to-a-group" class="md-nav__link">
    Assign Permissions to a Group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-permissions-to-a-user" class="md-nav__link">
    Assign Permissions to a User
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-if-a-user-has-permission" class="md-nav__link">
    Check If a User Has Permission
  </a>
  
    <nav class="md-nav" aria-label="Check If a User Has Permission">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-group-to-a-user" class="md-nav__link">
    Adding A Group To A User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-a-group-from-a-user" class="md-nav__link">
    Removing A Group From A User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-if-user-belongs-to-a-group" class="md-nav__link">
    Checking If User Belongs To A Group
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-users" class="md-nav__link">
    Managing Users
  </a>
  
    <nav class="md-nav" aria-label="Managing Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-users" class="md-nav__link">
    Creating Users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-users" class="md-nav__link">
    Deleting Users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-a-user" class="md-nav__link">
    Editing A User
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../authorization/" class="md-nav__link">
        Authorization
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../auth_actions/" class="md-nav__link">
        Auth Actions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        Events
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../customization/" class="md-nav__link">
        Customization
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../session_auth_event_and_logging/" class="md-nav__link">
        Session Authenticator Event and Logging
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../guides/api_tokens/" class="md-nav__link">
        Protecting an API with Access Tokens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../guides/mobile_apps/" class="md-nav__link">
        Mobile Authentication with Access Tokens
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#authentication-flow" class="md-nav__link">
    Authentication Flow
  </a>
  
    <nav class="md-nav" aria-label="Authentication Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customize-register-redirect" class="md-nav__link">
    Customize register redirect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-login-redirect" class="md-nav__link">
    Customize login redirect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-logout-redirect" class="md-nav__link">
    Customize logout redirect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-remember-me-functionality" class="md-nav__link">
    Customize Remember-me functionality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-access-token-lifetime" class="md-nav__link">
    Change Access Token Lifetime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-account-activation-via-email" class="md-nav__link">
    Enable Account Activation via Email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-two-factor-authentication" class="md-nav__link">
    Enable Two-Factor Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responding-to-magic-link-logins" class="md-nav__link">
    Responding to Magic Link Logins
  </a>
  
    <nav class="md-nav" aria-label="Responding to Magic Link Logins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#session-notification" class="md-nav__link">
    Session Notification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event" class="md-nav__link">
    Event
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authorization-flow" class="md-nav__link">
    Authorization Flow
  </a>
  
    <nav class="md-nav" aria-label="Authorization Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-available-groups" class="md-nav__link">
    Change Available Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-default-group" class="md-nav__link">
    Set the Default Group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-available-permissions" class="md-nav__link">
    Change Available Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-permissions-to-a-group" class="md-nav__link">
    Assign Permissions to a Group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-permissions-to-a-user" class="md-nav__link">
    Assign Permissions to a User
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-if-a-user-has-permission" class="md-nav__link">
    Check If a User Has Permission
  </a>
  
    <nav class="md-nav" aria-label="Check If a User Has Permission">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-group-to-a-user" class="md-nav__link">
    Adding A Group To A User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-a-group-from-a-user" class="md-nav__link">
    Removing A Group From A User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-if-user-belongs-to-a-group" class="md-nav__link">
    Checking If User Belongs To A Group
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-users" class="md-nav__link">
    Managing Users
  </a>
  
    <nav class="md-nav" aria-label="Managing Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-users" class="md-nav__link">
    Creating Users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-users" class="md-nav__link">
    Deleting Users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-a-user" class="md-nav__link">
    Editing A User
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/codeigniter4/shield/edit/master/docs/quickstart.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="quick-start-guide">Quick Start Guide</h1>
<p>Learning any new authentication system can be difficult, especially as they get more flexible and sophisticated. This guide is intended to provide short examples for common actions you'll take when working with Shield. It is not intended to be the exhaustive documentation for each section. That's better handled through the area-specific doc files.</p>
<p>NOTE: The examples assume that you have run the setup script and that you have copies of the <code>Auth</code> and <code>AuthGroups</code> config files in your application's <code>app/Config</code> folder.</p>
<ul>
<li><a href="#quick-start-guide">Quick Start Guide</a></li>
<li><a href="#authentication-flow">Authentication Flow</a><ul>
<li><a href="#customize-register-redirect">Customize register redirect</a></li>
<li><a href="#customize-login-redirect">Customize login redirect</a></li>
<li><a href="#customize-logout-redirect">Customize logout redirect</a></li>
<li><a href="#customize-remember-me-functionality">Customize Remember-me functionality</a></li>
<li><a href="#change-access-token-lifetime">Change Access Token Lifetime</a></li>
<li><a href="#enable-account-activation-via-email">Enable Account Activation via Email</a></li>
<li><a href="#enable-two-factor-authentication">Enable Two-Factor Authentication</a></li>
<li><a href="#responding-to-magic-link-logins">Responding to Magic Link Logins</a></li>
<li><a href="#session-notification">Session Notification</a></li>
<li><a href="#event">Event</a></li>
</ul>
</li>
<li><a href="#authorization-flow">Authorization Flow</a><ul>
<li><a href="#change-available-groups">Change Available Groups</a></li>
<li><a href="#set-the-default-group">Set the Default Group</a></li>
<li><a href="#change-available-permissions">Change Available Permissions</a></li>
<li><a href="#assign-permissions-to-a-group">Assign Permissions to a Group</a></li>
<li><a href="#assign-permissions-to-a-user">Assign Permissions to a User</a></li>
</ul>
</li>
<li><a href="#check-if-a-user-has-permission">Check If a User Has Permission</a><ul>
<li><a href="#adding-a-group-to-a-user">Adding A Group To A User</a></li>
<li><a href="#removing-a-group-from-a-user">Removing A Group From A User</a></li>
<li><a href="#checking-if-user-belongs-to-a-group">Checking If User Belongs To A Group</a></li>
</ul>
</li>
<li><a href="#managing-users">Managing Users</a><ul>
<li><a href="#creating-users">Creating Users</a></li>
<li><a href="#deleting-users">Deleting Users</a></li>
<li><a href="#editing-a-user">Editing A User</a></li>
</ul>
</li>
</ul>
<h2 id="authentication-flow">Authentication Flow</h2>
<p>If you need everyone to redirect to a single URL after login/logout/register actions, you can modify the <code>Config\Auth::redirects</code> array to specify the url to redirect to.</p>
<pre class="highlight"><code class="language-php">public array $redirects = [
    'register' =&gt; '/',
    'login'    =&gt; '/',
    'logout'   =&gt; 'login',
];</code></pre>
<p>NOTE: This redirect happens after the specified action is complete. In the case of register or login, it might not happen immediately. For example, if you have any Auth Actions specified, they will be redirected when those actions are completed successfully. If no Auth Actions are specified, they will be redirected immediately after registration or login.</p>
<h3 id="customize-register-redirect">Customize register redirect</h3>
<p>You can customize where a user is redirected to after registration in the <code>registerRedirect</code> method of the <code>Auth</code> config file.</p>
<pre class="highlight"><code class="language-php">public function registerRedirect(): string
{
    $url = setting('Auth.redirects')['register'];

    return $this-&gt;getUrl($url);
}</code></pre>
<h3 id="customize-login-redirect">Customize login redirect</h3>
<p>You can further customize where a user is redirected to on login with the <code>loginRedirect</code> method of the <code>Auth</code> config file. This is handy if you want to redirect based on user group or other criteria.</p>
<pre class="highlight"><code class="language-php">public function loginRedirect(): string
{
    $url = auth()-&gt;user()-&gt;inGroup('admin')
        ? '/admin'
        : setting('Auth.redirects')['login'];

    return $this-&gt;getUrl($url);
}</code></pre>
<h3 id="customize-logout-redirect">Customize logout redirect</h3>
<p>The logout redirect can also be overridden by the <code>logoutRedirect</code> method of the <code>Auth</code> config file. This will not be used as often as login and register, but you might find the need. For example, if you programatically logged a user out you might want to take them to a page that specifies why they were logged out. Otherwise, you might take them to the home page or even the login page.</p>
<pre class="highlight"><code class="language-php">public function logoutRedirect(): string
{
    $url = setting('Auth.redirects')['logout'];

    return $this-&gt;getUrl($url);
}</code></pre>
<h3 id="customize-remember-me-functionality">Customize Remember-me functionality</h3>
<p>Remember-me functionality is enabled by default for the <code>Session</code> handler. While this is handled in a secure manner, some sites may want it disabled. You might also want to change how long it remembers a user and doesn't require additional login.</p>
<pre class="highlight"><code class="language-php">public array $sessionConfig = [
    'field'              =&gt; 'user',
    'allowRemembering'   =&gt; true,
    'rememberCookieName' =&gt; 'remember',
    'rememberLength'     =&gt; 30 * DAY,
];</code></pre>
<h3 id="change-access-token-lifetime">Change Access Token Lifetime</h3>
<p>By default, Access Tokens can be used for 1 year since the last use. This can be easily modified in the <code>Auth</code> config file.</p>
<pre class="highlight"><code class="language-php">public int $unusedTokenLifetime = YEAR;</code></pre>
<h3 id="enable-account-activation-via-email">Enable Account Activation via Email</h3>
<p>By default, once a user registers they have an active account that can be used. You can enable Shield's built-in, email-based activation flow within the <code>Auth</code> config file.</p>
<pre class="highlight"><code class="language-php">public array $actions = [
    'register' =&gt; 'CodeIgniter\Shield\Authentication\Actions\EmailActivator',
    'login'    =&gt; null,
];</code></pre>
<h3 id="enable-two-factor-authentication">Enable Two-Factor Authentication</h3>
<p>Turned off by default, Shield's Email-based 2FA can be enabled by specifying the class to use in the <code>Auth</code> config file.</p>
<pre class="highlight"><code class="language-php">public array $actions = [
    'register' =&gt; null,
    'login'    =&gt; 'CodeIgniter\Shield\Authentication\Actions\Email2FA',
];</code></pre>
<h3 id="responding-to-magic-link-logins">Responding to Magic Link Logins</h3>
<p>Magic Link logins allow a user that has forgotten their password to have an email sent with a unique, one-time login link. Once they've logged in you can decide how to respond. In some cases, you might want to redirect them to a special page where they must choose a new password. In other cases, you might simply want to display a one-time message prompting them to go to their account page and choose a new password.</p>
<h4 id="session-notification">Session Notification</h4>
<p>You can detect if a user has finished the magic link login by checking for a session value, <code>magicLogin</code>. If they have recently completed the flow, it will exist and have a value of <code>true</code>.</p>
<pre class="highlight"><code class="language-php">if (session('magicLogin')) {
    return redirect()-&gt;route('set_password');
}</code></pre>
<p>This value sticks around in the session for 5 minutes. Once you no longer need to take any actions, you might want to delete the value from the session.</p>
<pre class="highlight"><code class="language-php">session()-&gt;removeTempdata('magicLogin');</code></pre>
<h4 id="event">Event</h4>
<p>At the same time the above session variable is set, a <code>magicLogin</code> <a href="https://codeigniter.com/user_guide/extending/events.html">event</a> is fired off that you may subscribe to. Note that no data is passed to the event as you can easily grab the current user from the <code>user()</code> helper or the <code>auth()-&gt;user()</code> method.</p>
<pre class="highlight"><code class="language-php">Events::on('magicLogin', static function () {
    // ...
});</code></pre>
<h2 id="authorization-flow">Authorization Flow</h2>
<h3 id="change-available-groups">Change Available Groups</h3>
<p>The available groups are defined in the <code>AuthGroups</code> config file, under the <code>$groups</code> property. Add new entries to the array, or remove existing ones to make them available throughout your application.</p>
<pre class="highlight"><code class="language-php">public array $groups = [
    'superadmin' =&gt; [
        'title'       =&gt; 'Super Admin',
        'description' =&gt; 'Complete control of the site.',
    ],
    //
];</code></pre>
<h3 id="set-the-default-group">Set the Default Group</h3>
<p>When a user registers on your site, they are assigned the group specified at <code>Config\AuthGroups::$defaultGroup</code>. Change this to one of the keys in the <code>$groups</code> array to update this.</p>
<h3 id="change-available-permissions">Change Available Permissions</h3>
<p>The permissions on the site are stored in the <code>AuthGroups</code> config file also. Each one is defined by a string that represents a context and a permission, joined with a decimal point.</p>
<pre class="highlight"><code class="language-php">public array $permissions = [
    'admin.access'        =&gt; 'Can access the sites admin area',
    'admin.settings'      =&gt; 'Can access the main site settings',
    'users.manage-admins' =&gt; 'Can manage other admins',
    'users.create'        =&gt; 'Can create new non-admin users',
    'users.edit'          =&gt; 'Can edit existing non-admin users',
    'users.delete'        =&gt; 'Can delete existing non-admin users',
    'beta.access'         =&gt; 'Can access beta-level features',
];</code></pre>
<h3 id="assign-permissions-to-a-group">Assign Permissions to a Group</h3>
<p>Each group can have its own specific set of permissions. These are defined in <code>Config\AuthGroups::$matrix</code>. You can specify each permission by it's full name, or using the context and an asterisk (*) to specify all permissions within that context.</p>
<pre class="highlight"><code class="language-php">public array $matrix = [
    'superadmin' =&gt; [
        'admin.*',
        'users.*',
        'beta.access',
    ],
    //
];</code></pre>
<h3 id="assign-permissions-to-a-user">Assign Permissions to a User</h3>
<p>Permissions can also be assigned directly to a user, regardless of what groups they belong to. This is done programatically on the <code>User</code> Entity.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();

$user-&gt;addPermission('users.create', 'beta.access');</code></pre>
<p>This will add all new permissions. You can also sync permissions so that the user ONLY has the given permissions directly assigned to them. Any not in the provided list are removed from the user.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();

$user-&gt;syncPermissions('users.create', 'beta.access');</code></pre>
<h2 id="check-if-a-user-has-permission">Check If a User Has Permission</h2>
<p>When you need to check if a user has a specific permission use the <code>can()</code> method on the <code>User</code> entity. This method checks permissions within the groups they belong to and permissions directly assigned to the user.</p>
<pre class="highlight"><code class="language-php">if (! auth()-&gt;user()-&gt;can('users.create')) {
    return redirect()-&gt;back()-&gt;with('error', 'You do not have permissions to access that page.');
}</code></pre>
<p>Note: The example above can also be done through a <a href="https://codeigniter.com/user_guide/incoming/filters.html">controller filter</a> if you want to apply it to multiple pages of your site.</p>
<h3 id="adding-a-group-to-a-user">Adding A Group To A User</h3>
<p>Groups are assigned to a user via the <code>addGroup</code> method. You can pass multiple groups in and they will all be assigned to the user.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();
$user-&gt;addGroup('admin', 'beta');</code></pre>
<p>This will add all new groups. You can also sync groups so that the user ONLY belongs to the groups directly assigned to them. Any not in the provided list are removed from the user.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();
$user-&gt;syncGroups('admin', 'beta');</code></pre>
<h3 id="removing-a-group-from-a-user">Removing A Group From A User</h3>
<p>Groups are removed from a user via the <code>removeGroup</code> method. Multiple groups may be removed at once by passing all of their names into the method.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();
$user-&gt;removeGroup('admin', 'beta');</code></pre>
<h3 id="checking-if-user-belongs-to-a-group">Checking If User Belongs To A Group</h3>
<p>You can check if a user belongs to a group with the <code>inGroup</code> method.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();
if ($user-&gt;inGroup('admin')) {
    // do something
}</code></pre>
<p>You can pass more than one group to the method and it will return <code>true</code> if the user belongs to any of the specified groups.</p>
<pre class="highlight"><code class="language-php">$user = auth()-&gt;user();
if ($user-&gt;inGroup('admin', 'beta')) {
    // do something
}</code></pre>
<h2 id="managing-users">Managing Users</h2>
<p>Since Shield uses a more complex user setup than many other systems, separating <a href="../concepts/#user-identities">User Identities</a> from the user accounts themselves. This quick overview should help you feel more confident when working with users on a day-to-day basis.</p>
<h3 id="creating-users">Creating Users</h3>
<p>By default, the only values stored in the users table is the username. The first step is to create the user record with the username. If you don't have a username, be sure to set the value to <code>null</code> anyway, so that it passes CodeIgniter's empty data check.</p>
<pre class="highlight"><code class="language-php">use CodeIgniter\Shield\Entities\User;

$users = model('UserModel');
$user = new User([
    'username' =&gt; 'foo-bar',
    'email'    =&gt; 'foo.bar@example.com',
    'password' =&gt; 'secret plain text password',
]);
$users-&gt;save($user);

// To get the complete user object with ID, we need to get from the database
$user = $users-&gt;findById($users-&gt;getInsertID());

// Add to default group
$users-&gt;addToDefaultGroup($user);</code></pre>
<h3 id="deleting-users">Deleting Users</h3>
<p>A user's data can be spread over a few different tables so you might be concerned about how to delete all of the user's data from the system. This is handled automatically at the database level for all information that Shield knows about, through the <code>onCascade</code> settings of the table's foreign keys. You can delete a user like any other entity.</p>
<pre class="highlight"><code class="language-php">$users = model('UserModel');
$users-&gt;delete($user-&gt;id, true);</code></pre>
<p>NOTE: The User rows use <a href="https://codeigniter.com/user_guide/models/model.html#usesoftdeletes">soft deletes</a> so they are not actually deleted from the database unless the second parameter is <code>true</code>, like above.</p>
<h3 id="editing-a-user">Editing A User</h3>
<p>The <code>UserModel::save()</code>, <code>update()</code> and <code>insert()</code> methods have been modified to ensure that an email or password previously set on the <code>User</code> entity will be automatically updated in the correct <code>UserIdentity</code> record.</p>
<pre class="highlight"><code class="language-php">$users = model('UserModel');
$user  = $users-&gt;findById(123);

$user-&gt;fill([
    'username' =&gt; 'JoeSmith111',
    'email' =&gt; 'joe.smith@example.com',
    'password' =&gt; 'secret123'
]);
$users-&gt;save($user);</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../concepts/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Concepts" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Concepts
            </div>
          </div>
        </a>
      
      
        
        <a href="../authentication/" class="md-footer__link md-footer__link--next" aria-label="Next: Authentication" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Authentication
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/codeigniter4/shield" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/highlight.min.js"></script>
      
        <script src="../assets/hljs.js"></script>
      
    
  </body>
</html>